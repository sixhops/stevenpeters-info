<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Steven Peters</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css?family=Goudy+Bookletter+1911|Open+Sans" rel="stylesheet">

    <link rel="stylesheet" href="/kevin/css/style.css">

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

    <script src="https://use.fontawesome.com/f209cde02b.js"></script>

    <!--
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular.js"></script>
    <script src="js/app.js"></script>
    -->

    <script>
      var totalCorrect = 0;
      var totalQuestions = 0;
      var numberOfImages = 0;
      var itemImage;
      var maxItems = 15;
      var itemTypes = 6;
      var correctAnswer;
      var imageURI;

      $(document).ready(function() {
        getRandomItem();
        correctAnswer = generateImages(maxItems);
        //labelButtons(correctAnswer);
      });

      var generateImages = function(max) {
        var number = (Math.floor(Math.random() * max) + 1);
        for (var i = 0; i < number; i++) {
          itemImage = document.createElement("img");
          itemImage.setAttribute("src", imageURI);
          document.getElementById("itemimages").appendChild(itemImage);
        }
        return number;
      };

      var getRandomItem = function() {
        var itemIndex = Math.floor(Math.random() * itemTypes);
        switch (itemIndex) {
          case 0:
            $("#question").text("Quantas rãs?");
            imageURI = 'http://www.jigzone.com/p/jz/isA/TreeFrog.jpg';
            break;
          case 1:
            $("#question").text("Quantos pingüins?");
            imageURI = 'http://animal-dream.com/data_images/penguin/penguin8.jpg';
            break;
          case 2:
            $("#question").text("Quantos polvos?");
            imageURI = 'http://www.natureworks.com.au/images/products/Animal_Art/Marine_Life/Octupus/Octopus140096/Octopus_Front_140096.jpg';
            break;
          case 3:
            $("#question").text("Quantos ursos?");
            imageURI = 'https://upload.wikimedia.org/wikipedia/commons/6/66/Polar_Bear_-_Alaska_(cropped).jpg';
            break;
          case 4:
            $("#question").text("Quantas estrelas?");
            imageURI = 'https://upload.wikimedia.org/wikipedia/commons/d/d5/Award_star_(gold).png';
            break;
          case 5:
            $("#question").text("Quantos bolos?");
            imageURI = 'http://www.bbcgoodfood.com/sites/default/files/styles/category_retina/public/recipe-collections/collection-image/2013/05/rosewater-raspberry-sponge-cake.jpg?itok=OVpUSQm9';
            break;
        }
      };

      var checkAnswer = function(e) {
        if(e.keyCode === 13){
          e.preventDefault(); // Ensure it is only this code that runs
          //alert("Enter was pressed was pressed");
          if (document.getElementById('answerbox').value == correctAnswer) {
            document.getElementById('answerbox').value = '';
            while ( document.getElementById("itemimages").hasChildNodes() ) {
              document.getElementById("itemimages").removeChild(document.getElementById("itemimages").lastChild);
            }
            getRandomItem();
            correctAnswer = generateImages(maxItems);
            
            //console.log("You are right");
          } else {
            console.log("You are wrong");
          }
        }
      }

    </script>


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <div class="container-fluid">
      <h1 class="welcome text-center">Olá, Kevin!</h1>
    </div>

    <div class="container-fluid">

      <div class="row">
        <p class="text-center" id="question">Quantas rãs?</p>
      </div>

      <div class="row" id="imagebox">
        <div class="col-xs-3"></div>
        <div class="col-xs-6" id="itemimages">
        </div>
        <div class="col-xs-3"></div>
      </div>

      <div class="row" id="buttons">
        <div class="col-xs-5"></div>
        <div class="col-xs-2">
          <form action="#">
            <input type="text" id="answerbox" class="text-center" name="answer" onkeypress="checkAnswer(event)" autofocus>
          </form>
        </div>
        <div class="col-xs-5"></div>
      </div>

    </div>

  </body>
</html>
